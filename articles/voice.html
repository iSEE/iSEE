<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Controlling the `iSEE` interface using speech recognition • iSEE</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Controlling the `iSEE` interface using speech recognition">
<meta property="og:description" content="iSEE">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iSEE</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.9.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/basic.html">An introduction to the `r Biocpkg("iSEE")` interface 
</a>
    </li>
    <li>
      <a href="../articles/bigdata.html">How to use `r Biocpkg("iSEE")` with big data
</a>
    </li>
    <li>
      <a href="../articles/configure.html">Configuring `r Biocpkg("iSEE")` apps
</a>
    </li>
    <li>
      <a href="../articles/custom.html">Deploying custom panels in the `iSEE` interface</a>
    </li>
    <li>
      <a href="../articles/ecm.html">Describing the `ExperimentColorMap` class</a>
    </li>
    <li>
      <a href="../articles/links.html">Sharing information across `r Biocpkg("iSEE")` panels
</a>
    </li>
    <li>
      <a href="../articles/voice.html">Controlling the `iSEE` interface using speech recognition</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/iSEE/iSEE/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><link href="voice_files/font-awesome-5.1.0/css/all.css" rel="stylesheet">
<link href="voice_files/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Controlling the <code>iSEE</code> interface
using speech recognition</h1>
                        <h4 data-toc-skip class="author">Kevin
Rue-Albrecht</h4>
            <address class="author_afil">
      MRC WIMM Centre for Computational Biology, University of Oxford,
Oxford, OX3 9DS,
UK<br><a class="author_email" href="mailto:#"></a><a href="mailto:kevinrue67@gmail.com" class="email">kevinrue67@gmail.com</a>
      </address>
                              <h4 data-toc-skip class="author">Federico
Marini</h4>
            <address class="author_afil">
      Institute of Medical Biostatistics, Epidemiology and Informatics
(IMBEI), MainzCenter for Thrombosis and Hemostasis (CTH),
Mainz<br><a class="author_email" href="mailto:#"></a><a href="mailto:marinif@uni-mainz.de" class="email">marinif@uni-mainz.de</a>
      </address>
                              <h4 data-toc-skip class="author">Charlotte
Soneson</h4>
            <address class="author_afil">
      Friedrich Miescher Institute for Biomedical Research, Basel,
SwitzerlandSIB Swiss Institute of
Bioinformatics<br><a class="author_email" href="mailto:#"></a><a href="mailto:charlottesoneson@gmail.com" class="email">charlottesoneson@gmail.com</a>
      </address>
                              <h4 data-toc-skip class="author">Aaron
Lun</h4>
                  <a class="author_email" href="mailto:#"></a><a href="mailto:infinite.monkeys.with.keyboards@gmail.com" class="email">infinite.monkeys.with.keyboards@gmail.com</a>
      
                  
            <h4 data-toc-skip class="date">20 July 2022</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/iSEE/iSEE/blob/HEAD/vignettes/voice.Rmd" class="external-link"><code>vignettes/voice.Rmd</code></a></small>
      <div class="hidden name"><code>voice.Rmd</code></div>

    </div>

    
    
<p><strong>Compiled date</strong>: 2022-07-20</p>
<p><strong>Last edited</strong>: 2018-11-29</p>
<p><strong>License</strong>: MIT + file LICENSE</p>
<div class="section level2">
<h2 id="feature">Feature<a class="anchor" aria-label="anchor" href="#feature"></a>
</h2>
<p>Using JavaScript, <code>iSEE</code> applications can leverage
lightweight speech recognition libraries that react to specific vocal
commands (think “OK Google”, “Hey Siri”) and trigger updates of the UI
equivalent to one or more mouse or keyboard interaction with the UI
components <span class="citation">(Rue-Albrecht et al. 2018)</span>.</p>
<p><strong>Note</strong>: As we value privacy, this feature is disabled
by default: <code>iSEE(..., voice=FALSE)</code>.</p>
<p>To keep the spoken commands reasonably short, only one panel may be
under voice command at any one time. All spoken commands will affect the
currently active panel, until a new panel is selected for voice command.
See section <a href="#availableVocalCommands">Vocal commands
available</a>.</p>
</div>
<div class="section level2">
<h2 id="implementation">Implementation<a class="anchor" aria-label="anchor" href="#implementation"></a>
</h2>
<p>We use the <a href="https://github.com/TalAter/annyang" class="external-link"><em>annyang</em></a>
lightweight JavaScript library to handle speech recongnition and update
<em>Shiny</em> reactive values in the same way as mouse and keyboard UI
elements trigger panel updates.</p>
<p>Note that <em>annyang</em> requires an active internet connection, as
it relies on the browser’s own speech recognition engine (see the
<em>annyang</em> <a href="https://github.com/TalAter/annyang/blob/master/docs/FAQ.md#can-annyang-work-offline" class="external-link">FAQ</a>).
For instance, in <em>Google Chrome</em>, this engine performs the
recognition in the cloud.</p>
</div>
<div class="section level2">
<h2 id="supported-web-browsers">Supported web browsers<a class="anchor" aria-label="anchor" href="#supported-web-browsers"></a>
</h2>
<p>Note that the speech recognition library that we use does not work
with every web browser. We currently only validated this feature in
<em>Google Chrome</em>. Please refer to the <em>annyang</em> <a href="https://github.com/TalAter/annyang/blob/master/docs/FAQ.md#which-browsers-are-supported" class="external-link">FAQ</a>
for details.</p>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a>
</h2>
<p>Using the <code>sce</code> object that we generated <a href="https://bioconductor.org/packages/3.16/iSEE/vignettes/basic.html" class="external-link">earlier</a>,
enabling speech recognition is as simple as setting
<code>voice=TRUE</code> below:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/iSEE/iSEE" class="external-link">iSEE</a></span><span class="op">)</span>
<span class="va">app</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/iSEE.html">iSEE</a></span><span class="op">(</span><span class="va">sce</span>, voice<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>With <code>voice=TRUE</code>, the lightweight JavaScript speech
recognition library <em>annyang</em> is loaded and activated in any web
browser tab that runs <code>app</code>.</p>
<p>If your default browser is not compatible with the feature, or if you
work in <em>RStudio</em>, you can prevent the application from opening
in the default browser by setting <code>launch.browser=FALSE</code> as
follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runApp.html" class="external-link">runApp</a></span><span class="op">(</span><span class="va">app</span>, port<span class="op">=</span><span class="fl">1234</span>, launch.browser<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
<p>At that point, your R console should be displaying the address and
port where <code>app</code> is running. In the example above, that would
be:</p>
<pre><code>Listening on http://127.0.0.1:1234</code></pre>
<p>Using a compatible browser, navigate to the indicated address and
port. Note that when the web page opens, you may be prompted to allow
the web browser to use your microphone, which you must accept to enable
the functionality.</p>
</div>
<div class="section level2">
<h2 id="availableVocalCommands">Vocal commands available<a class="anchor" aria-label="anchor" href="#availableVocalCommands"></a>
</h2>
<p>As a proof of concept, only a subset of spoken commands are currently
implemented, compared to the full range of interactions possible using
the mouse and keyboard.</p>
<p>Note that in the commands below, words in brackets are optional.</p>
<ul>
<li>“<strong>Show active panel</strong>”: shows a persistent
notification displaying the name of the panel currently under vocal
control.</li>
<li>“<strong>Create <reduced dimension plot></reduced></strong>”: Adds a new panel
of the requested type to the GUI and immediately takes vocal control of
it.</li>
<li>“<strong>Remove &lt;Reduced dimension plot 1&gt;</strong>”: Removes
the requested panel from the GUI. If the panel was under vocal control,
clears vocal control.</li>
<li>“<strong>Control &lt;Reduced dimension plot 1&gt;</strong>”: Takes
vocal control of the requested panel.</li>
<li>“<strong>Colour using &lt;Column data | Feature name |
…&gt;</strong>”: Changes the colouring mode of the panel under vocal
control.</li>
<li>“<strong>Colour by &lt;…&gt;</strong>”: Changes the colouring
covariate (e.g. gene name, <code>colData</code> column name) of the
panel under vocal control.</li>
<li>“<strong>Receive selection from &lt;Reduced dimension plot
1&gt;</strong>”: Makes the panel under vocal control receive the point
selection from the requested panel.</li>
<li>“<strong>Send selection to &lt;Reduced dimension plot
1&gt;</strong>”: Makes the requested panel receive the point selection
from the panel under vocal control.</li>
<li>“<strong>Good &lt;boy | girl&gt;!</strong>”: If the app is behaving
well, throw it a bone!</li>
</ul>
</div>
<div class="section level2">
<h2 class="unnumbered" id="session-info">Session Info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; R version 4.2.0 (2022-04-22)</span>
<span class="co">#&gt; Platform: x86_64-pc-linux-gnu (64-bit)</span>
<span class="co">#&gt; Running under: Ubuntu 20.04.4 LTS</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Matrix products: default</span>
<span class="co">#&gt; BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3</span>
<span class="co">#&gt; LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/liblapack.so.3</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; locale:</span>
<span class="co">#&gt;  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span>
<span class="co">#&gt;  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span>
<span class="co">#&gt;  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   </span>
<span class="co">#&gt;  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span>
<span class="co">#&gt;  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span>
<span class="co">#&gt; [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attached base packages:</span>
<span class="co">#&gt; [1] stats4    stats     graphics  grDevices utils     datasets  methods  </span>
<span class="co">#&gt; [8] base     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; other attached packages:</span>
<span class="co">#&gt;  [1] iSEE_2.9.2                  SingleCellExperiment_1.19.0</span>
<span class="co">#&gt;  [3] SummarizedExperiment_1.27.1 Biobase_2.57.1             </span>
<span class="co">#&gt;  [5] GenomicRanges_1.49.0        GenomeInfoDb_1.33.3        </span>
<span class="co">#&gt;  [7] IRanges_2.31.0              S4Vectors_0.35.1           </span>
<span class="co">#&gt;  [9] BiocGenerics_0.43.0         MatrixGenerics_1.9.1       </span>
<span class="co">#&gt; [11] matrixStats_0.62.0          BiocStyle_2.25.0           </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; loaded via a namespace (and not attached):</span>
<span class="co">#&gt;   [1] nlme_3.1-158           bitops_1.0-7           fs_1.5.2              </span>
<span class="co">#&gt;   [4] fontawesome_0.2.2      doParallel_1.0.17      RColorBrewer_1.1-3    </span>
<span class="co">#&gt;   [7] rprojroot_2.0.3        tools_4.2.0            bslib_0.3.1           </span>
<span class="co">#&gt;  [10] utf8_1.2.2             R6_2.5.1               DT_0.23               </span>
<span class="co">#&gt;  [13] vipor_0.4.5            mgcv_1.8-40            DBI_1.1.3             </span>
<span class="co">#&gt;  [16] colorspace_2.0-3       GetoptLong_1.0.5       tidyselect_1.1.2      </span>
<span class="co">#&gt;  [19] compiler_4.2.0         textshaping_0.3.6      cli_3.3.0             </span>
<span class="co">#&gt;  [22] shinyjs_2.1.0          desc_1.4.1             DelayedArray_0.23.0   </span>
<span class="co">#&gt;  [25] colourpicker_1.1.1     bookdown_0.27          sass_0.4.1            </span>
<span class="co">#&gt;  [28] scales_1.2.0           pkgdown_2.0.6.9000     systemfonts_1.0.4     </span>
<span class="co">#&gt;  [31] stringr_1.4.0          digest_0.6.29          rmarkdown_2.14        </span>
<span class="co">#&gt;  [34] XVector_0.37.0         pkgconfig_2.0.3        htmltools_0.5.2       </span>
<span class="co">#&gt;  [37] fastmap_1.1.0          htmlwidgets_1.5.4      rlang_1.0.3           </span>
<span class="co">#&gt;  [40] GlobalOptions_0.1.2    shiny_1.7.1            generics_0.1.2        </span>
<span class="co">#&gt;  [43] shape_1.4.6            jquerylib_0.1.4        jsonlite_1.8.0        </span>
<span class="co">#&gt;  [46] dplyr_1.0.9            RCurl_1.98-1.7         magrittr_2.0.3        </span>
<span class="co">#&gt;  [49] GenomeInfoDbData_1.2.8 Matrix_1.4-1           Rcpp_1.0.8.3          </span>
<span class="co">#&gt;  [52] munsell_0.5.0          fansi_1.0.3            lifecycle_1.0.1       </span>
<span class="co">#&gt;  [55] rintrojs_0.3.0         stringi_1.7.6          yaml_2.3.5            </span>
<span class="co">#&gt;  [58] zlibbioc_1.43.0        grid_4.2.0             ggrepel_0.9.1         </span>
<span class="co">#&gt;  [61] parallel_4.2.0         promises_1.2.0.1       shinydashboard_0.7.2  </span>
<span class="co">#&gt;  [64] crayon_1.5.1           miniUI_0.1.1.1         lattice_0.20-45       </span>
<span class="co">#&gt;  [67] splines_4.2.0          circlize_0.4.15        knitr_1.39            </span>
<span class="co">#&gt;  [70] ComplexHeatmap_2.13.0  pillar_1.7.0           igraph_1.3.2          </span>
<span class="co">#&gt;  [73] rjson_0.2.21           codetools_0.2-18       glue_1.6.2            </span>
<span class="co">#&gt;  [76] evaluate_0.15          BiocManager_1.30.18    vctrs_0.4.1           </span>
<span class="co">#&gt;  [79] png_0.1-7              httpuv_1.6.5           foreach_1.5.2         </span>
<span class="co">#&gt;  [82] gtable_0.3.0           purrr_0.3.4            assertthat_0.2.1      </span>
<span class="co">#&gt;  [85] clue_0.3-61            cachem_1.0.6           ggplot2_3.3.6         </span>
<span class="co">#&gt;  [88] xfun_0.31              mime_0.12              xtable_1.8-4          </span>
<span class="co">#&gt;  [91] later_1.3.0            viridisLite_0.4.0      ragg_1.2.2            </span>
<span class="co">#&gt;  [94] tibble_3.1.7           iterators_1.0.14       memoise_2.0.1         </span>
<span class="co">#&gt;  [97] cluster_2.1.3          shinyWidgets_0.7.0     ellipsis_0.3.2        </span>
<span class="co">#&gt; [100] shinyAce_0.4.2</span>
<span class="co"># devtools::session_info()</span></code></pre></div>
</div>
<div class="section level2">
<h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-kra2018iSEE" class="csl-entry">
Rue-Albrecht, K., F. Marini, C. Soneson, and A. T. L. Lun. 2018.
<span>“iSEE: Interactive SummarizedExperiment Explorer.”</span>
<em>F1000Research</em> 7 (June): 741.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Kevin Rue-Albrecht, Federico Marini, Charlotte Soneson, Aaron Lun.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.9000.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
