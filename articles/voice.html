<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Controlling the `iSEE` interface using speech recognition • iSEE</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Controlling the `iSEE` interface using speech recognition">
<meta property="og:description" content="iSEE">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iSEE</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.21</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/basic.html">An introduction to the `r Biocpkg("iSEE")` interface 
</a>
    </li>
    <li>
      <a href="../articles/bigdata.html">How to use `r Biocpkg("iSEE")` with big data
</a>
    </li>
    <li>
      <a href="../articles/configure.html">Configuring `r Biocpkg("iSEE")` apps
</a>
    </li>
    <li>
      <a href="../articles/custom.html">Deploying custom panels in the `iSEE` interface</a>
    </li>
    <li>
      <a href="../articles/ecm.html">Describing the `ExperimentColorMap` class</a>
    </li>
    <li>
      <a href="../articles/links.html">Sharing information across `r Biocpkg("iSEE")` panels
</a>
    </li>
    <li>
      <a href="../articles/voice.html">Controlling the `iSEE` interface using speech recognition</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/iSEE/iSEE/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="voice_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="voice_files/font-awesome-5.1.0/css/all.css" rel="stylesheet">
<link href="voice_files/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Controlling the <code>iSEE</code> interface using speech recognition</h1>
                        <h4 class="author">Kevin Rue-Albrecht</h4>
            <address class="author_afil">
      MRC WIMM Centre for Computational Biology, University of Oxford, Oxford, OX3 9DS, UK<br><a class="author_email" href="mailto:#"></a><a href="mailto:kevinrue67@gmail.com" class="email">kevinrue67@gmail.com</a>
      </address>
                              <h4 class="author">Federico Marini</h4>
            <address class="author_afil">
      Institute of Medical Biostatistics, Epidemiology and Informatics (IMBEI), Mainz<br><a class="author_email" href="mailto:#"></a><a href="mailto:marinif@uni-mainz.de" class="email">marinif@uni-mainz.de</a>
      </address>
                              <h4 class="author">Charlotte Soneson</h4>
            <address class="author_afil">
      Friedrich Miescher Institute for Biomedical Research, Basel, Switzerland<br><a class="author_email" href="mailto:#"></a><a href="mailto:charlottesoneson@gmail.com" class="email">charlottesoneson@gmail.com</a>
      </address>
                              <h4 class="author">Aaron Lun</h4>
                  <a class="author_email" href="mailto:#"></a><a href="mailto:infinite.monkeys.with.keyboards@gmail.com" class="email">infinite.monkeys.with.keyboards@gmail.com</a>
      
                  
            <h4 class="date">12 October 2020</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/iSEE/iSEE/blob/master/vignettes/voice.Rmd"><code>vignettes/voice.Rmd</code></a></small>
      <div class="hidden name"><code>voice.Rmd</code></div>

    </div>

    
    
<p><strong>Compiled date</strong>: 2020-10-12</p>
<p><strong>Last edited</strong>: 2018-11-29</p>
<p><strong>License</strong>: MIT + file LICENSE</p>
<div id="feature" class="section level1">
<h1 class="hasAnchor">
<a href="#feature" class="anchor"></a>Feature</h1>
<p>Using JavaScript, <code>iSEE</code> applications can leverage lightweight speech recognition libraries that react to specific vocal commands (think “OK Google”, “Hey Siri”) and trigger updates of the UI equivalent to one or more mouse or keyboard interaction with the UI components <span class="citation">(Rue-Albrecht et al. 2018)</span>.</p>
<p><strong>Note</strong>: As we value privacy, this feature is disabled by default: <code><a href="../reference/iSEE.html">iSEE(..., voice=FALSE)</a></code>.</p>
<p>To keep the spoken commands reasonably short, only one panel may be under voice command at any one time. All spoken commands will affect the currently active panel, until a new panel is selected for voice command. See section <a href="#availableVocalCommands">Vocal commands available</a>.</p>
</div>
<div id="implementation" class="section level1">
<h1 class="hasAnchor">
<a href="#implementation" class="anchor"></a>Implementation</h1>
<p>We use the <a href="https://github.com/TalAter/annyang"><em>annyang</em></a> lightweight JavaScript library to handle speech recongnition and update <em>Shiny</em> reactive values in the same way as mouse and keyboard UI elements trigger panel updates.</p>
<p>Note that <em>annyang</em> requires an active internet connection, as it relies on the browser’s own speech recognition engine (see the <em>annyang</em> <a href="https://github.com/TalAter/annyang/blob/master/docs/FAQ.md#can-annyang-work-offline">FAQ</a>). For instance, in <em>Google Chrome</em>, this engine performs the recognition in the cloud.</p>
</div>
<div id="supported-web-browsers" class="section level1">
<h1 class="hasAnchor">
<a href="#supported-web-browsers" class="anchor"></a>Supported web browsers</h1>
<p>Note that the speech recognition library that we use does not work with every web browser. We currently only validated this feature in <em>Google Chrome</em>. Please refer to the <em>annyang</em> <a href="https://github.com/TalAter/annyang/blob/master/docs/FAQ.md#which-browsers-are-supported">FAQ</a> for details.</p>
</div>
<div id="usage" class="section level1">
<h1 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h1>
<p>Using the <code>sce</code> object that we generated <a href="https://bioconductor.org/packages/3.12/iSEE/vignettes/basic.html">earlier</a>, enabling speech recognition is as simple as setting <code>voice=TRUE</code> below:</p>
<div class="sourceCode" id="cb1"><pre class="downlit">
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/iSEE/iSEE">iSEE</a></span><span class="op">)</span>
<span class="va">app</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/iSEE.html">iSEE</a></span><span class="op">(</span><span class="va">sce</span>, voice<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></pre></div>
<p>With <code>voice=TRUE</code>, the lightweight JavaScript speech recognition library <em>annyang</em> is loaded and activated in any web browser tab that runs <code>app</code>.</p>
<p>If your default browser is not compatible with the feature, or if you work in <em>RStudio</em>, you can prevent the application from opening in the default browser by setting <code>launch.browser=FALSE</code> as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit">
<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span>
    <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://shiny.rstudio.com/reference/shiny/latest/runApp.html">runApp</a></span><span class="op">(</span><span class="va">app</span>, port<span class="op">=</span><span class="fl">1234</span>, launch.browser<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="op">}</span></pre></div>
<p>At that point, your R console should be displaying the address and port where <code>app</code> is running. In the example above, that would be:</p>
<pre><code>Listening on http://127.0.0.1:1234</code></pre>
<p>Using a compatible browser, navigate to the indicated address and port. Note that when the web page opens, you may be prompted to allow the web browser to use your microphone, which you must accept to enable the functionality.</p>
</div>
<div id="availableVocalCommands" class="section level1">
<h1 class="hasAnchor">
<a href="#availableVocalCommands" class="anchor"></a>Vocal commands available</h1>
<p>As a proof of concept, only a subset of spoken commands are currently implemented, compared to the full range of interactions possible using the mouse and keyboard.</p>
<p>Note that in the commands below, words in brackets are optional.</p>
<ul>
<li>“<strong>Show active panel</strong>”: shows a persistent notification displaying the name of the panel currently under vocal control.</li>
<li>“<strong>Create <reduced dimension plot></reduced></strong>”: Adds a new panel of the requested type to the GUI and immediately takes vocal control of it.</li>
<li>“<strong>Remove &lt;Reduced dimension plot 1&gt;</strong>”: Removes the requested panel from the GUI. If the panel was under vocal control, clears vocal control.</li>
<li>“<strong>Control &lt;Reduced dimension plot 1&gt;</strong>”: Takes vocal control of the requested panel.</li>
<li>“<strong>Colour using &lt;Column data | Feature name | …&gt;</strong>”: Changes the colouring mode of the panel under vocal control.</li>
<li>“<strong>Colour by &lt;…&gt;</strong>”: Changes the colouring covariate (e.g. gene name, <code>colData</code> column name) of the panel under vocal control.</li>
<li>“<strong>Receive selection from &lt;Reduced dimension plot 1&gt;</strong>”: Makes the panel under vocal control receive the point selection from the requested panel.</li>
<li>“<strong>Send selection to &lt;Reduced dimension plot 1&gt;</strong>”: Makes the requested panel receive the point selection from the panel under vocal control.</li>
<li>“<strong>Good &lt;boy | girl&gt;!</strong>”: If the app is behaving well, throw it a bone!</li>
</ul>
</div>
<div id="session-info" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#session-info" class="anchor"></a>Session Info</h1>
<div class="sourceCode" id="cb4"><pre class="downlit">
<span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html">sessionInfo</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; R version 4.0.2 (2020-06-22)</span>
<span class="co">#&gt; Platform: x86_64-pc-linux-gnu (64-bit)</span>
<span class="co">#&gt; Running under: Ubuntu 20.04 LTS</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Matrix products: default</span>
<span class="co">#&gt; BLAS/LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.8.so</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; locale:</span>
<span class="co">#&gt;  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span>
<span class="co">#&gt;  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span>
<span class="co">#&gt;  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=C             </span>
<span class="co">#&gt;  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span>
<span class="co">#&gt;  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span>
<span class="co">#&gt; [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; attached base packages:</span>
<span class="co">#&gt; [1] parallel  stats4    stats     graphics  grDevices utils     datasets </span>
<span class="co">#&gt; [8] methods   base     </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; other attached packages:</span>
<span class="co">#&gt;  [1] iSEE_2.1.21                 SingleCellExperiment_1.11.8</span>
<span class="co">#&gt;  [3] SummarizedExperiment_1.19.9 Biobase_2.49.1             </span>
<span class="co">#&gt;  [5] GenomicRanges_1.41.6        GenomeInfoDb_1.25.11       </span>
<span class="co">#&gt;  [7] IRanges_2.23.10             S4Vectors_0.27.14          </span>
<span class="co">#&gt;  [9] BiocGenerics_0.35.4         MatrixGenerics_1.1.4       </span>
<span class="co">#&gt; [11] matrixStats_0.57.0          BiocStyle_2.17.1           </span>
<span class="co">#&gt; </span>
<span class="co">#&gt; loaded via a namespace (and not attached):</span>
<span class="co">#&gt;  [1] nlme_3.1-149           bitops_1.0-6           fs_1.5.0              </span>
<span class="co">#&gt;  [4] RColorBrewer_1.1-2     rprojroot_1.3-2        tools_4.0.2           </span>
<span class="co">#&gt;  [7] backports_1.1.10       R6_2.4.1               DT_0.15               </span>
<span class="co">#&gt; [10] vipor_0.4.5            mgcv_1.8-33            colorspace_1.4-1      </span>
<span class="co">#&gt; [13] GetoptLong_1.0.3       tidyselect_1.1.0       compiler_4.0.2        </span>
<span class="co">#&gt; [16] textshaping_0.1.2      shinyjs_2.0.0          desc_1.2.0            </span>
<span class="co">#&gt; [19] DelayedArray_0.15.16   colourpicker_1.1.0     bookdown_0.20         </span>
<span class="co">#&gt; [22] scales_1.1.1           pkgdown_1.6.1          systemfonts_0.3.2     </span>
<span class="co">#&gt; [25] stringr_1.4.0          digest_0.6.25          rmarkdown_2.4         </span>
<span class="co">#&gt; [28] XVector_0.29.3         pkgconfig_2.0.3        htmltools_0.5.0       </span>
<span class="co">#&gt; [31] fastmap_1.0.1          htmlwidgets_1.5.2      rlang_0.4.8           </span>
<span class="co">#&gt; [34] GlobalOptions_0.1.2    shiny_1.5.0            shape_1.4.5           </span>
<span class="co">#&gt; [37] generics_0.0.2         jsonlite_1.7.1         dplyr_1.0.2           </span>
<span class="co">#&gt; [40] RCurl_1.98-1.2         magrittr_1.5           GenomeInfoDbData_1.2.4</span>
<span class="co">#&gt; [43] Matrix_1.2-18          Rcpp_1.0.5             munsell_0.5.0         </span>
<span class="co">#&gt; [46] lifecycle_0.2.0        stringi_1.5.3          yaml_2.2.1            </span>
<span class="co">#&gt; [49] rintrojs_0.2.2         zlibbioc_1.35.0        grid_4.0.2            </span>
<span class="co">#&gt; [52] promises_1.1.1         ggrepel_0.8.2          shinydashboard_0.7.1  </span>
<span class="co">#&gt; [55] crayon_1.3.4           miniUI_0.1.1.1         lattice_0.20-41       </span>
<span class="co">#&gt; [58] splines_4.0.2          circlize_0.4.10        knitr_1.30            </span>
<span class="co">#&gt; [61] ComplexHeatmap_2.5.5   pillar_1.4.6           igraph_1.2.6          </span>
<span class="co">#&gt; [64] rjson_0.2.20           glue_1.4.2             evaluate_0.14         </span>
<span class="co">#&gt; [67] BiocManager_1.30.10    png_0.1-7              vctrs_0.3.4           </span>
<span class="co">#&gt; [70] httpuv_1.5.4           gtable_0.3.0           purrr_0.3.4           </span>
<span class="co">#&gt; [73] clue_0.3-57            assertthat_0.2.1       ggplot2_3.3.2         </span>
<span class="co">#&gt; [76] xfun_0.18              mime_0.9               xtable_1.8-4          </span>
<span class="co">#&gt; [79] later_1.1.0.1          viridisLite_0.3.0      ragg_0.4.0            </span>
<span class="co">#&gt; [82] tibble_3.0.3           memoise_1.1.0          cluster_2.1.0         </span>
<span class="co">#&gt; [85] shinyWidgets_0.5.4     ellipsis_0.3.1         shinyAce_0.4.1</span>
<span class="co"># devtools::session_info()</span></pre></div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references">
<div id="ref-kra2018iSEE">
<p>Rue-Albrecht, K., F. Marini, C. Soneson, and A. T. L. Lun. 2018. “ISEE: Interactive Summarizedexperiment Explorer.” <em>F1000Research</em> 7 (June): 741.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Kevin Rue-Albrecht, Federico Marini, Charlotte Soneson, Aaron Lun.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
