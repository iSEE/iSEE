<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Create a landing page — createLandingPage • iSEE</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Create a landing page — createLandingPage"><meta property="og:description" content="Define a function to create a landing page in which users can specify or upload SummarizedExperiment objects."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iSEE</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.9.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/basic.html">An introduction to the `r Biocpkg("iSEE")` interface 
</a>
    </li>
    <li>
      <a href="../articles/bigdata.html">How to use `r Biocpkg("iSEE")` with big data
</a>
    </li>
    <li>
      <a href="../articles/configure.html">Configuring `r Biocpkg("iSEE")` apps
</a>
    </li>
    <li>
      <a href="../articles/custom.html">Deploying custom panels in the `iSEE` interface</a>
    </li>
    <li>
      <a href="../articles/ecm.html">Describing the `ExperimentColorMap` class</a>
    </li>
    <li>
      <a href="../articles/links.html">Sharing information across `r Biocpkg("iSEE")` panels
</a>
    </li>
    <li>
      <a href="../articles/voice.html">Controlling the `iSEE` interface using speech recognition</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/iSEE/iSEE/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a landing page</h1>
    <small class="dont-index">Source: <a href="https://github.com/iSEE/iSEE/blob/HEAD/R/createLandingPage.R" class="external-link"><code>R/createLandingPage.R</code></a></small>
    <div class="hidden name"><code>createLandingPage.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Define a function to create a landing page in which users can specify or upload SummarizedExperiment objects.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">createLandingPage</span><span class="op">(</span>
  seUI <span class="op">=</span> <span class="cn">NULL</span>,
  seLoad <span class="op">=</span> <span class="cn">NULL</span>,
  initUI <span class="op">=</span> <span class="cn">NULL</span>,
  initLoad <span class="op">=</span> <span class="cn">NULL</span>,
  requireButton <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>seUI</dt>
<dd><p>Function that accepts a single <code>id</code> argument and returns a UI element for specifying the SummarizedExperiment.</p></dd>
<dt>seLoad</dt>
<dd><p>Function that accepts the input value of the UI element from <code>seUI</code>
and returns a SummarizedExperiment object.</p></dd>
<dt>initUI</dt>
<dd><p>Function that accepts a single <code>id</code> argument and returns a UI element for specifying the initial state.</p></dd>
<dt>initLoad</dt>
<dd><p>Function that accepts the input value of the UI element from <code>initUI</code>
and returns a list of <a href="Panel-class.html">Panel</a>s.</p></dd>
<dt>requireButton</dt>
<dd><p>Logical scalar indicating whether the app should require an explicit button press to initialize,
or if it should initialize upon any modification to the UI element in <code>seUI</code>.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A function that generates a landing page upon being passed to <code><a href="iSEE.html">iSEE</a></code>as the <code>landingPage</code> argument.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>By default, this function creates a landing page in which users can upload an RDS file containing a SummarizedExperiment,
which is subsequently read by <code><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></code> to launch an instance of <code><a href="iSEE.html">iSEE</a></code>.
However, any source of SummarizedExperiment objects can be used;
for example, we can retrieve them from databases by modifying <code>seUI</code> and <code>seLoad</code> appropriately.</p>
<p>The default landing page also allows users to upload a RDS file containing a list of <a href="Panel-class.html">Panel</a>s
that specifies the initial state of the <code><a href="iSEE.html">iSEE</a></code> instance
(to be used as the <code>initial</code> argument in <code><a href="iSEE.html">iSEE</a></code>).
Again, any source can be used to create this list if <code>initUI</code> and <code>initLoad</code> are modified appropriately.</p>
<p>The UI elements for the SummarizedExperiment and the initial state are named <code>"se"</code> and <code>"initial"</code> respectively.
This can be used in Shiny bookmarking to initialize an <code><a href="iSEE.html">iSEE</a></code> in a desired state by simply clicking a link,
provided that <code>requireButton=FALSE</code> so that reactive expressions are immediately triggered upon setting <code>se=</code> and <code>initial=</code> in the URL.
We do not use bookmarking to set all individual <code><a href="iSEE.html">iSEE</a></code> parameters as we will run afoul of URL character limits.</p>
    </div>
    <div id="defining-a-custom-landing-page">
    <h2>Defining a custom landing page</h2>
    

<p>We note that <code>createLandingPage</code> is just a limited wrapper around the landing page API.
In <code><a href="iSEE.html">iSEE</a></code>, <code>landingPage</code> can be any function that accepts the following arguments:</p><ul><li><p><code>FUN</code>, a function to initialize the <code><a href="iSEE.html">iSEE</a></code> observer architecture.
This function expects to be passed:</p><ul><li><p><code>SE</code>, a SummarizedExperiment object.</p></li>
<li><p><code>INITIAL</code>, a list of <a href="Panel-class.html">Panel</a> objects describing the initial application state.
  If <code>NULL</code>, the initial state from <code>initial</code> in the top-level <code><a href="iSEE.html">iSEE</a></code> call is used instead.</p></li>
<li><p><code>TOUR</code>, a data.frame containing a tour to be attached to the app - see <code><a href="defaultTour.html">defaultTour</a></code> for an example.
  If <code>NULL</code> (the default), no tour is added.</p></li>
</ul></li>
<li><p><code>input</code>, the Shiny input list.</p></li>
<li><p><code>output</code>, the Shiny output list.</p></li>
<li><p><code>session</code>, the Shiny session object.</p></li>
</ul><p>The <code>landingPage</code> function should define a <code><a href="https://rdrr.io/pkg/shiny/man/renderUI.html" class="external-link">renderUI</a></code> expression that is assigned to <code>output$allPanels</code>.
This should define a UI that contains all widgets necessary for a user to set up an <code><a href="iSEE.html">iSEE</a></code> session interactively.
We suggest that all UI elements have IDs prefixed with <code>"initialize_INTERNAL"</code> to avoid conflicts.</p>
<p>The function should also define observers to respond to user interactions with the UI elements.
These are typically used to define a SummarizedExperiment object and an input state as a list of <a href="Panel-class.html">Panel</a>s;
any one of these observers may then call <code>FUN</code> on those arguments to launch the main <code><a href="iSEE.html">iSEE</a></code> instance.</p>
<p>Note that, once the main app is launched,
the UI elements constructed here are lost and observers will never be called again.
There is no explicit “unload” mechanism to return to the landing page from the main app,
though a browser refresh is usually sufficient.</p>
    </div>
    <div id="author">
    <h2>Author</h2>
    <p>Aaron Lun</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu">createLandingPage</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function (FUN, input, output, session) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     output$allPanels &lt;- renderUI({</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         tagList(seUI(.initializeSE), initUI(.initializeInitial), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             if (requireButton) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 actionButton(.initializeLaunch, label = "Launch", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   style = .actionbutton_biocstyle))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     })</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     target &lt;- if (requireButton) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         .initializeLaunch</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     else .initializeSE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     observeEvent(input[[target]], {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         se2 &lt;- try(seLoad(input[[.initializeSE]]))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         if (is(se2, "try-error")) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             showNotification("invalid SummarizedExperiment supplied", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 type = "error")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         else {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             init &lt;- try(initLoad(input[[.initializeInitial]]))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             if (is(init, "try-error")) {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 showNotification("invalid initial state supplied", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                   type = "warning")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                 init &lt;- NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>             FUN(SE = se2, INITIAL = init)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     }, ignoreNULL = TRUE, ignoreInit = TRUE)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     invisible(NULL)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;bytecode: 0x55aa39df90f8&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x55aa39df7520&gt;</span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Alternative approach, to create a landing page</span></span>
<span class="r-in"><span class="co"># that opens one of the datasets from the scRNAseq package.</span></span>
<span class="r-in"><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">scRNAseq</span><span class="op">)</span></span>
<span class="r-in"><span class="va">all.data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="st">"package:scRNAseq"</span><span class="op">)</span></span>
<span class="r-in"><span class="va">all.data</span> <span class="op">&lt;-</span> <span class="va">all.data</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grep</a></span><span class="op">(</span><span class="st">"Data$"</span>, <span class="va">all.data</span><span class="op">)</span><span class="op">]</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">lpfun</span> <span class="op">&lt;-</span> <span class="fu">createLandingPage</span><span class="op">(</span></span>
<span class="r-in">    seUI<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/pkg/shiny/man/selectInput.html" class="external-link">selectInput</a></span><span class="op">(</span><span class="va">id</span>, <span class="st">"Dataset:"</span>, choices<span class="op">=</span><span class="va">all.data</span><span class="op">)</span>,</span>
<span class="r-in">    seLoad<span class="op">=</span><span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/get.html" class="external-link">get</a></span><span class="op">(</span><span class="va">x</span>, <span class="fu"><a href="https://rdrr.io/r/base/as.environment.html" class="external-link">as.environment</a></span><span class="op">(</span><span class="st">"package:scRNAseq"</span><span class="op">)</span><span class="op">)</span><span class="op">(</span><span class="op">)</span></span>
<span class="r-in"><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">app</span> <span class="op">&lt;-</span> <span class="fu"><a href="iSEE.html">iSEE</a></span><span class="op">(</span>landingPage<span class="op">=</span><span class="va">lpfun</span><span class="op">)</span></span>
<span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in">  <span class="fu">shiny</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shiny/man/runApp.html" class="external-link">runApp</a></span><span class="op">(</span><span class="va">app</span>, port<span class="op">=</span><span class="fl">1234</span><span class="op">)</span></span>
<span class="r-in"><span class="op">}</span></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Kevin Rue-Albrecht, Federico Marini, Charlotte Soneson, Aaron Lun.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

