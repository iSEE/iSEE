<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Generics for controlling multiple selections — multi-select-generics • iSEE</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Generics for controlling multiple selections — multi-select-generics" />
<meta property="og:description" content="A panel can create a multiple selection on either the rows or columns
and transmit this selection to another panel to affect its set of displayed points.
For example, users can brush on a DotPlots to select a set of points,
and then the panel can transmit the identities of those points to another panel for highlighting.
This suite of generics controls the behavior of these multiple selections.
In all of the code chunks shown below, x is assumed to be an instance of the Panel class." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iSEE</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">2.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/basic.html">An introduction to the `r Biocpkg("iSEE")` interface 
</a>
    </li>
    <li>
      <a href="../articles/bigdata.html">How to use `r Biocpkg("iSEE")` with big data
</a>
    </li>
    <li>
      <a href="../articles/configure.html">Configuring `r Biocpkg("iSEE")` apps
</a>
    </li>
    <li>
      <a href="../articles/custom.html">Deploying custom panels in the `iSEE` interface</a>
    </li>
    <li>
      <a href="../articles/ecm.html">Describing the `ExperimentColorMap` class</a>
    </li>
    <li>
      <a href="../articles/links.html">Sharing information across `r Biocpkg("iSEE")` panels
</a>
    </li>
    <li>
      <a href="../articles/voice.html">Controlling the `iSEE` interface using speech recognition</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/iSEE/iSEE/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generics for controlling multiple selections</h1>
    <small class="dont-index">Source: <a href='https://github.com/iSEE/iSEE/blob/master/R/AllGenerics.R'><code>R/AllGenerics.R</code></a></small>
    <div class="hidden name"><code>multi-select-generics.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A panel can create a multiple selection on either the rows or columns
and transmit this selection to another panel to affect its set of displayed points.
For example, users can brush on a <a href='DotPlot-class.html'>DotPlot</a>s to select a set of points,
and then the panel can transmit the identities of those points to another panel for highlighting.</p>
<p>This suite of generics controls the behavior of these multiple selections.
In all of the code chunks shown below, <code>x</code> is assumed to be an instance of the <a href='Panel-class.html'>Panel</a> class.</p>
    </div>



    <h2 class="hasAnchor" id="specifying-the-dimension"><a class="anchor" href="#specifying-the-dimension"></a>Specifying the dimension</h2>

    

<p><code>.multiSelectionDimension(x)</code> should return a string specifying whether the selection contains rows (<code>"row"</code>), columns (<code>"column"</code>) or if the Panel in <code>x</code> does not perform multiple selections at all (<code>"none"</code>).
The output should be constant for all instances of <code>x</code> and is used to govern the interface choices for the selection parameters.</p>
    <h2 class="hasAnchor" id="specifying-the-active-selection"><a class="anchor" href="#specifying-the-active-selection"></a>Specifying the active selection</h2>

    

<p><code>.multiSelectionActive(x)</code> should return some structure containing all parameters required to identify all points in the active multiple selection of <code>x</code>.
If <code>.multiSelectionActive(x)</code> returns <code>NULL</code>, <code>x</code> is assumed to have no active multiple selection.</p>
<p>The active selection is considered to be the one that can be directly changed by the user, as compared to saved selections that are not modifiable (other than being deleted on a first-in-last-out basis).
This generic is primarily used to bundle up selection parameters to be stored in the <code>SelectionHistory</code> slot when the user saves the current active selection.</p>
<p>As an example, in <a href='DotPlot-class.html'>DotPlot</a>s, the method for this generic would return the contents of the <code>BrushData</code> slot.</p>
    <h2 class="hasAnchor" id="evaluating-the-selection"><a class="anchor" href="#evaluating-the-selection"></a>Evaluating the selection</h2>

    

<p><code>.multiSelectionCommands(x, index)</code> is expected to return a character vector of commands to generate a character vector of row or column names in the desired multiple selection of <code>x</code>.
If <code>index=NA</code>, the desired selection is the currently active one;
developers can assume that <code>.multiSelectionActive(x)</code> returns a non-<code>NULL</code> value in this case.
Otherwise, for an integer <code>index</code>, it refers to the corresponding saved selection in the <code>SelectionHistory</code>.</p>
<p>The commands will be evaluated in an environment containing:</p><ul>
<li><p><code>select</code>, a variable of the same type as returned by <code>.multiSelectionActive(x)</code>.
This will contain the active selection if <code>index=NA</code> and one of the saved selections otherwise.
For example, for <a href='DotPlot-class.html'>DotPlot</a>s, <code>select</code> will be either a Shiny brush or a lasso structure.</p></li>
<li><p><code>contents</code>, some arbitrary content saved by the rendering expression in <code><a href='output-generics.html'>.renderOutput</a>(x)</code>.
This is most often a data.frame but can be anything as long as <code>.multiSelectionCommands</code> knows how to process it.
For example, a data.frame of coordinates is stored by <a href='DotPlot-class.html'>DotPlot</a>s to identify the points selected by a brush/lasso.</p></li>
<li><p><code>se</code>, the SummarizedExperiment object containing the current dataset.</p></li>
</ul>

<p>The output commands are expected to produce a character vector named <code>selected</code> in the evaluation environment.
All other variables generated by the commands should be prefixed with <code>.</code> to avoid name clashes.</p>
    <h2 class="hasAnchor" id="determining-the-available-points-for-selection"><a class="anchor" href="#determining-the-available-points-for-selection"></a>Determining the available points for selection</h2>

    

<p><code>.multiSelectionAvailable(x, contents)</code> is expected to return an integer scalar specifying the number of points available for selection in the the current instance of the panel <code>x</code>.
This defaults to <code><a href='https://rdrr.io/r/base/nrow.html'>nrow(contents)</a></code> for all <a href='Panel-class.html'>Panel</a> subclasses,
assuming that <code>contents</code> is a data.frame where each row represents a point.
If not, this method needs to be specialized in order to return an accurate total of available points,
which is ultimately used to compute the percentage selected in the multiple selection information panels.</p>
    <h2 class="hasAnchor" id="destroying-selections"><a class="anchor" href="#destroying-selections"></a>Destroying selections</h2>

    

<p><code>.multiSelectionClear(x)</code> should return <code>x</code> after removing the active selection, i.e., so that nothing is selected.
This is used internally to remove multiple selections that do not make sense after protected parameters have changed.
For example, a brush or lasso made on a PCA plot in <a href='ReducedDimensionPlot-class.html'>ReducedDimensionPlot</a>s would not make sense after switching to t-SNE coordinates, so the application will automatically erase those selections to avoid misleading conclusions.</p>
    <h2 class="hasAnchor" id="responding-to-selections"><a class="anchor" href="#responding-to-selections"></a>Responding to selections</h2>

    

<p>These generics pertain to how <code>x</code> responds to a transmitted selection, not how <code>x</code> itself transmits selections.</p>
<p><code>.multiSelectionRestricted(x)</code> should return a logical scalar indicating whether <code>x</code>'s displayed contents will be restricted to the selection transmitted from <em>another panel</em>.
This is used to determine whether child panels of <code>x</code> need to be re-rendered when <code>x</code>'s transmitter changes its multiple selection.
For example, in <a href='DotPlot-class.html'>DotPlot</a>s, the method for this generic would return <code>TRUE</code> if <code>SelectionEffect="Restrict"</code>.
Otherwise, it would be <code>FALSE</code> as the transmitted selection is only used for aesthetics, not for changing the identity of the displayed points.</p>
<p><code>.multiSelectionInvalidated(x)</code> should return a logical scalar indicating whether a transmission of a multiple selection to <code>x</code> invalidates <code>x</code>'s own existing selections.
This should only be <code>TRUE</code> in special circumstances, e.g., if receipt of a new multiple selection causes recalculation of coordinates in a <a href='DotPlot-class.html'>DotPlot</a>.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Kevin Rue-Albrecht, Federico Marini, Charlotte Soneson, Aaron Lun.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


